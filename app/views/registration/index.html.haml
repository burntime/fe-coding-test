%h1 Coding Test

%h2 Task 1
%p
  Fix the bugs in the inline JavaScript code without removing the setTimeout function.

%h2 Task 2
%p
  Please validate the form elements in real-time.

%p
  For this send a XHR request to the following endpoint:
  %code= "#{validate_registration_index_path}"

%p
  The endpoint expects Key/Value pairs like:
  %code= "registrations[name]:foo"
  and will return:
  %code
    {"valid":boolian,"errors":Array}

  %ol
    %li Validation should be triggered when the element loses focus.
    %li The password field should not be sended to the endpoint.
    %li Invalid fields should be marked with a red border.

%h2 Task 3
%p
  Please style the form that it looks like this:
  %br
  = image_tag('test.png')

%hr

= form_for :registrations, url: registration_index_path, html: { id: 'registration-form' } do |f|
  = f.label :name
  = f.text_field :name

  = f.label :lastname
  = f.text_field :lastname

  = f.label :email
  = f.text_field :email

  = f.label :password
  = f.password_field :password

  = f.label :age
  = f.select :age, [nil] + (18..100).map { |n| [n, n] }

  = f.button 'Submit'

:javascript
  $(function() {
    $("#registration-form").on("submit", function(event) {
      setTimeout(function() {
        this.submit();
      }, 50);
      event.preventDefault();
    });
  });
